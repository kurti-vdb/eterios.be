<div class="app-container">
  <app-navigation></app-navigation>
  <div class="app-content">

    <app-sidebar></app-sidebar>

    <div class="projects-section">

      <div class="projects-section-header">
        <p>Ziekebeemdenstraat 4, 2800 Mechelen</p>
        <p class="time" (click)="clearMarkers()"><i title="Verwijder markers op de kaart" class="fas fa-eraser"></i></p>
      </div>

      <app-map [fileInfos]="fileInfos" [googleMarkers]="googleMarkers" ></app-map>

      <div class="project-boxes jsGridView">
        <div class="project-box-wrapper">
        </div>
      </div>

    </div>


    <div class="messages-section">
      <button class="messages-close">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="15" y1="9" x2="9" y2="15"></line>
          <line x1="9" y1="9" x2="15" y2="15"></line></svg>
      </button>
      <div class="projects-section-header">
        <p>Voeg foto's toe</p>
      </div>
      <div class="messages">


        <div class="upload-file">
          <input type="file" multiple (change)="selectFiles($event)" id="file"/>
            <img src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI5NC4xNTYgMjk0LjE1NiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjk0LjE1NiAyOTQuMTU2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjY0cHgiIGhlaWdodD0iNjRweCI+CjxnPgoJPHBhdGggZD0iTTIyNy4wMDIsMTA4LjI1NmMtMi43NTUtNDEuNzUxLTM3LjYtNzQuODc4LTgwLjAzNi03NC44NzhjLTQyLjQ0NywwLTc3LjI5OCwzMy4xNDEtODAuMDM4LDc0LjkwNyAgIEMyOC45NzgsMTEzLjA1OSwwLDE0NS4zOSwwLDE4NC4xODRjMCw0Mi4yMzQsMzQuMzYsNzYuNTk1LDc2LjU5NSw3Ni41OTVoMTE2LjQ4M2MzLjMxMywwLDYtMi42ODcsNi02cy0yLjY4Ny02LTYtNkg3Ni41OTUgICBDNDAuOTc3LDI0OC43NzgsMTIsMjE5LjgwMSwxMiwxODQuMTg0YzAtMzQuMjc1LDI2LjgzMy02Mi41NjgsNjEuMDg3LTY0LjQxMWMzLjE4NC0wLjE3MSw1LjY3OC0yLjgwMyw1LjY3OC01Ljk5MSAgIGMwLTAuMTE5LTAuMDAzLTAuMjM2LTAuMDEtMC4zNTVjMC4wOS0zNy41MzYsMzAuNjU0LTY4LjA0OSw2OC4yMTEtNjguMDQ5YzM3LjU2MywwLDY4LjEzMiwzMC41MTgsNjguMjExLDY4LjA2MyAgIGMtMC4wMDUsMC4xMTYtMC4wMDksMC4yMzgtMC4wMDksMC4zMjljMCwzLjE5NiwyLjUwNSw1LjgzMSw1LjY5Niw1Ljk5MmMzNC4zNywxLjc0MSw2MS4yOTIsMzAuMDM4LDYxLjI5Miw2NC40MjEgICBjMCwxOS41MjYtOC42OTgsMzcuODAxLTIzLjg2NCw1MC4xMzhjLTIuNTcxLDIuMDkxLTIuOTU5LDUuODctMC44NjgsOC40NGMyLjA5MSwyLjU3MSw1Ljg3LDIuOTU5LDguNDQsMC44NjggICBjMTcuOTgtMTQuNjI2LDI4LjI5Mi0zNi4yOTMsMjguMjkyLTU5LjQ0N0MyOTQuMTU2LDE0NS4yNjksMjY1LjA4LDExMi45MjYsMjI3LjAwMiwxMDguMjU2eiIgZmlsbD0iIzQxNTE2YiIvPgoJPHBhdGggZD0iTTE0MC45NjYsMTQxLjA3OHY3Ni41MTFjMCwzLjMxMywyLjY4Nyw2LDYsNnM2LTIuNjg3LDYtNnYtNzYuNTExYzAtMy4zMTMtMi42ODctNi02LTZTMTQwLjk2NiwxMzcuNzY1LDE0MC45NjYsMTQxLjA3OHoiIGZpbGw9IiM0MTUxNmIiLz4KCTxwYXRoIGQ9Ik0xODEuMjgzLDE1Mi4yMDRjMS41MzYsMCwzLjA3MS0wLjU4Niw0LjI0My0xLjc1N2MyLjM0My0yLjM0MywyLjM0My02LjE0MiwwLTguNDg1bC0zNC4zMTctMzQuMzE3ICAgYy0yLjM0My0yLjM0My02LjE0My0yLjM0My04LjQ4NSwwbC0zNC4zMTcsMzQuMzE3Yy0yLjM0MywyLjM0My0yLjM0Myw2LjE0MiwwLDguNDg1YzIuMzQzLDIuMzQzLDYuMTQzLDIuMzQzLDguNDg1LDAgICBsMzAuMDc0LTMwLjA3NGwzMC4wNzQsMzAuMDc0QzE3OC4yMTIsMTUxLjYxOCwxNzkuNzQ4LDE1Mi4yMDQsMTgxLjI4MywxNTIuMjA0eiIgZmlsbD0iIzQxNTE2YiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=">
            <h6>Selecteer files</h6>
          </div>


        <div class="button-wrapper">
          <!--
          <label for="upload-photo">+ Selecteer files</label>
          <input type="file" multiple (change)="selectFiles($event)" id="upload-images" />
          -->
          <div class="file-list" *ngFor="let file of progressInfos">
            <div class="files">
              <span>{{ file.fileName }}</span>
              <span>{{ file.size }}</span>
            </div>
            <div class="progress-wrapper">
              <div class="progress" style="height: 3px;">
                <div class="progress-bar" role="progressbar" [ngStyle]="{ width: file.value + '%' }" attr.aria-valuenow="{{ file.value }}" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <app-success *ngIf="file.success && !file.isUploading" ></app-success>
              <app-error *ngIf="!file.success && !file.isUploading" ></app-error>
            </div>
            <div *ngIf="!file.success" class="message">{{ file.message }}</div>

          </div>

          <!--
          <div *ngIf="message.length" >
            <div *ngFor="let msg of message; let i = index">
              <div>{{ msg }}</div>
            </div>
          </div>
        -->

          <!--<input type="file" multiple (change)="selectFiles($event)" />-->

        </div>
        <button [disabled]="!selectedFiles" (click)="uploadFiles()" class="upload-btn">Upload</button>

      </div>
    </div>
  </div>

  <div class="grid">


    <div class="projects-section-line">
      <div class="projects-status">
        <div class="item-status">
          <span class="status-number">0</span>
          <span class="status-type">Concessies</span>
        </div>
        <div class="item-status">

          <span class="status-number">{{ (photos | async)?.length }}</span>
          <span class="status-type">Foto's</span>
        </div>
      </div><div class="search-wrapper">
        <input class="search-input" type="text" placeholder="Search">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-search" viewBox="0 0 24 24">
          <defs></defs>
          <circle cx="11" cy="11" r="8"></circle>
          <path d="M21 21l-4.35-4.35"></path>
        </svg>
      </div>
      <div class="view-actions">
        <button class="view-btn list-view" title="List View">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list">
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line></svg>
        </button>
        <button class="view-btn grid-view active" title="Grid View">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect></svg>
        </button>
      </div>
    </div>



      <div class="photo-row" *ngFor="let photo of (photos | async) | paginate: { itemsPerPage: 6, currentPage: page }">
          <div>
            <img src="https://eterios.ams3.digitaloceanspaces.com/{{ photo.organisationID }}/thumbnail-250/{{ photo.filename }}" width="40" height="40" alt="{{ photo.filename }}"/>
          </div>
          <div class="filename">{{ photo.filename }}</div>
          <div class="created">{{ photo.uploaded | date:"dd-MM-yyyy HH:mm" }}</div>
          <div class="size">
            <i (click)="downloadImage(photo.organisationID, photo.filename)" class="fas fa-download" aria-hidden="true"></i>
          </div>
          <div class="uploader">{{ photo.name }}</div>
          <div (click)="deletePhoto(photo.filename)"><i class="fas fa-trash"></i></div>

          <div class="last-el-grid">
            <!--<div class="status">Status</div>-->
            <div class="map-link" (click)="addMarker(photo)"><i class="fas fa-map"></i></div>
            <app-photo-modal [marker]="photo"></app-photo-modal>
          </div>

      </div>

      <pagination-controls (pageChange)="page = $event"></pagination-controls>

  </div>

</div>
